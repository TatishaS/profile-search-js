"use strict";const form=document.querySelector(".form"),formInput=form.querySelector(".form__input"),formBtn=form.querySelector(".form__btn"),usersList=document.querySelector(".users__list"),urlUsers="https://api.github.com/search/users?q=",urlUser="https://api.github.com/users/";let users=[];const getData=async s=>{try{const{items:e}=await fetch(`${urlUsers}${s}&per_page=10`).then((s=>s.json())),t=e.map((s=>s.login));getUsers(t),console.log(e),console.log(t),usersList.style.display="block"}catch(s){throw console.error(s),s}},getUsers=async s=>{let e=[];for(let t of s){let s=fetch(`${urlUser}${t}`).then((s=>200!=s.status?null:s.json()),(s=>null));e.push(s)}return users=await Promise.all(e),console.log(users),checkEmptyList(),users.map((s=>renderCard(s))),results},renderCard=s=>{const e=`\n  <li class="users__list-item">\n                  <div class="user">\n                    <div class="user__info">\n                      <div class="user__image">\n                        <img\n                          width="100"\n                          src=${s.avatar_url?s.avatar_url:"./images/avatar.png"}\n                          alt="Аватар пользователя"\n                        />\n                      </div>\n                      <div class="user__data">\n                        <h1 class="user__name">\n                          Имя\n                          <a href=${s.html_url}>@${s.login}</a>\n                        </h1>\n                        <p class="user__about">${s.bio}</p>\n                      </div>\n                    </div>\n                    <ul class="user__stats">\n                      <li class="user__stats-item">\n                        Репозитории\n                        <span>${s.public_repos}</span>\n                      </li>\n                      <li class="user__stats-item">\n                        Подписчиков\n                        <span>${s.followers}</span>\n                      </li>\n                      <li class="user__stats-item">\n                        Подписок\n                        <span>${s.following}</span>\n                      </li>\n                    </ul>\n                    <ul class="user__location">\n                      <li class="user__location-item">${s.location}</li>\n                      <li class="user__location-item">\n                        <a href="#">${s.blog}</a>\n                      </li>\n                    </ul>\n                  </div>\n                </li>\n  `;usersList.insertAdjacentHTML("beforeend",e)},clearAlert=()=>{const s=form.querySelector(".alert");s&&s.remove()},checkEmptyList=()=>{if(0===users.length){const s='<div className="user__info" id="emptyList">\n    <h2>Ничего не найдено</h2>\n  </div>';users.insertAdjacentHTML("afterbegin",s)}if(users.length>0){const s=document.querySelector("#emptyList");s&&s.remove()}},handleFormSubmit=()=>{const s=formInput.value;if(console.log(s),s.length<3)return usersList.style.display="none",void formInput.parentElement.insertAdjacentHTML("beforeend",'<span class="alert">Недостаточно символов для поиска</span>');getData(s),formInput.value=""};form.addEventListener("submit",(s=>{s.preventDefault(),handleFormSubmit()})),formInput.addEventListener("input",clearAlert);